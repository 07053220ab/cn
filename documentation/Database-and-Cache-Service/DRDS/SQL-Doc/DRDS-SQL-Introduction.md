# DRDS SQL 简介

京东云 DRDS 高度兼容 MySQL 协议和语法，但由于DRDS分布式数据库和单机数据库在具体使用上还是存在一些差异，因此在某些具体SQL上存在一些差异和限制。


## 支持的拆分字段类型
DRDS 拆分字段支持以下类型：
- 数值型：int，smallint，bigint，tinyint，mediumint
- 字符型：char， varchar
- 时间型：timestamp，date，datetime

## 时间类型支持的拆分函数
对于时间类型的字段，DRDS目前支持以下拆分函数，函数名不区分大小写。
- 按年月拆分：YYYYMM
每个分表只存储一个时间段的数据，不会循环使用。当分表用尽后，用户需要手动对分表进行扩展。例如用户的某个DRDS数据库有16个分库，其中表tab1按年月拆分，每个月一个分表，因此总共可以存储16个月的数据。如果用户需要存储更多时间段的数据，需要手动增加分库数目，并对表进行扩展。

## 全局自增ID
DRDS支持全局自增ID，可以根据用户定义，按以下三种方式生成
- SIMPLE：系统每次申请自增ID时，都会访问系统数据库，可以确保自增ID连续单调递增，但性能较低。
- GROUP： 系统提前将一段连续的ID取出放在内存中。应用申请自增ID时，从内存中获取，性能极高。通过这种方式获取的自增ID可以保证递增，但不保证连续。
- TIME：根据时间戳，通过snowflake算法生成的ID。时间戳可以精确到毫秒，同一毫秒可有2^16个自增ID

