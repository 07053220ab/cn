# 集群日志
## 概述
- 京东云为Kubernetes集群提供了系统日志，用户日志和容器实时日志三种类型日志，其中系统日志和用户日志与日志服务进行了集成，方便用户多维度查询，检索与分析，为日常运维和管理提供了有效的支持。

## 系统日志
京东云Kubernetes集群作为托管集群，Master节点上的服务例如kube-apiserver,kube-controller-manager都是已托管形式运行的。用户在实际管理自己的kubernetes业务时，都是通过Kubernetes API server来执行的。为此我们提供了系统日志功能来帮助用户更好地了解Kubernetes集群运行状态。
### 查看日志
系统日志不需要用户在Kubernetes集群做任何操作，默认所有新建Kubernetes集群会将系统日志发送到日志服务后端。用户可以随时在日志服务中查看。具体操作步骤如下
1. 进入日志集管理页面，选择已创建的日志集，点击“查看”按钮，进入日志详情页面，选择采集配置“未配置”状态日志主题，点击“采集配置”按钮，进入采集配置页面。
2. 点击“添加采集配置”按钮，进入添加采集配置页面
3. 选择所属产品 (Kubernetes集群)、日志类型 (系统日志)，采集实例“全部实例”或 “选择实例”，点击“保存”即完成采集配置的设置。
- 全部实例：是用户该产品**所有区域的全部实例**都进行采集，包括后续新增的实例都将自动采集。
- 选择实例：选择部分实例，可将你关注的实例进行采集，最多可添加20台实例。
关于日志服务的操作细节可以访问[日志服务帮助文档](../../../../Management/Log-Service/Getting-Started/LogService-Started.md)

### 日志模块

| 模块名称                  | 描述                  | 
| :-------------------:| :-------------------: | 
| kube-apiserver                 | $100                 | 
| kube-proxy-master                 | $10                  | 
| kube-scheduler                 | $1                   | 
| kube-controller-manager                   | $1                   | 
| scheduler-extender                  | $1                   | 
| etcd                  | $1                   | 
| dockerd                 | $1                   | 
| kubelet                 | $1                   | 


### 日志Metadata含义

## 用户日志
集群创建完成后，您可以在控制台关闭或重新开启集群监控。集群监控关闭后，Workload自定义监控数据不再更新，基础监控数据不受影响。  

1.登录控制台，在左侧菜单选择【弹性计算】-【Kubernetes集群】-【集群名称】，点击进入Kubernetes集群详情页；  
2.在详情页选择集群监控开关，点击关闭或开启Kubernetes集群监控；  

## 容器实时日志
这个日志的最大可回溯时间需要问一下研发
