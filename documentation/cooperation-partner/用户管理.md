# 用户管理

京东云为合作伙伴自运营平台的用户管理提供支撑服务，用户可以直接在合作伙伴平台开通京东云账号并完成实名认证，合作伙伴可以获取到用户在京东云对应的账号信息并进行管理。具体的用户支撑功能见下表。

| 接口 | 功能描述 |
| :----------------------| :----------------------|
| 校验用户注册信息      | 调用接口判断用户手机是否允许注册京东云账号</br>创建京东云账号必须关联一个有效的手机号，对于同一个合作伙伴平台，每个手机或邮箱只能注册一个京东云账号 |
| 发送用户身份验码      | 调用接口向用户发送短信验证码</br>用户注册京东云时，向用户发送短信验证码 |
| 创建用户账号          | 调用接口为用户创建京东云账号</br>创建京东云用户账号，创建成功后将向合作伙伴返回京东云账号标识 |
| 同步用户实名信息   | 调用接口将用户的实名认证信息同步到京东云</br>已在合作伙伴平台完成实名认证的用户，可以直接将实名信息同步到京东云 |

## 接口调用说明

### 1. 校验用户注册信息：checkUserInfo

**功能介绍**
用户注册京东云时，通过该接口预先判断京东云是否允许用户的手机号进行注册。对每个合作伙伴下的用户，一个手机号只能注册一个京东云账号，如果超过限制则需提示用户手机号已被占用。

**接口方式**
POST

**请求地址**
https://cp.jdcloud-api.com/v1/partner/{partnerId}/user:checkUserInfo

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| partnerId | String | 是 | 无 | 京东云分配的合作伙伴ID |

**请求参数**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| checkUserInfo | CheckUserInfo | 是 | 无 | 见CheckUserInfo结构说明 |

**CheckUserInfo**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| checkType | String | 是 | 无 | 注册方式类型校验，对于合作伙伴，用于注册的用户信息为手机号。该字段必须传："mobile" |
| checkValue | String | 是 | 无 | 用户手机号，包括国家码（国家码为4位数字，以00或0开头，如0086或0852），手机号格式为：XXXX-XXXXXXXX。京东云不校验大陆以外的手机号格式，仅进行唯一性判断；合作伙伴如需校验用户手机格式，则需自行校验 |

**返回参数**

| 名称 | 类型 | 描述 |
| :----| :---| :----|
| result | Result | 见Result结果说明 |
| requestId | String | 请求标识ID |

**Result**

| 名称 | 类型 | 描述 | 
| :----| :---| :----|
| status | Integer | 0-注册方式可用，1-该注册方式不可用 |

**状态码**

| 状态码 | 描述 |
| :-----| :----|
| 200 | OK |
| 400 | 请求参数错误 |

**请求示例（Java）**
```
```

### 2. 发送用户身份验码：sendVerificationCode

**功能介绍**
给指定手机号发送短信验证码，短信示例为：“验证码：123456，5分钟内有效。您正在授权开通京东云服务，为保证您的账户安全，请勿外泄”。后续创建用户账号环节，需要回传用户输入的验证码，用于验证身份。

**接口方式**
POST

**请求地址**
https://cp.jdcloud-api.com/v1/partner/{partnerId}/user:sendVerificationCode

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| partnerId | String | 是 | 无 | 京东云分配的合作伙伴ID |

**请求参数**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| sendVerificationCodeInfo | SendVerificationCodeInfo | 是 | 无 | 见SendVerificationCodeInfo结构说明 |

**SendVerificationCodeInfo**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| mobilePhone | String | 是 | 无 | 手机号，京东云不校验手机号有效性，如果有效则能发送短信成功，否则不能发送成功 |
| countryCode | String | 否 | 无 | 国家码，00或0开头4位数字。如不指定则默认为"0086" |
| timeout     | String | 否 | 无 | 验证码过期分钟数，值为1-15分钟。如不指定则默认为5分钟过期 |

**返回参数**

| 名称 | 类型 | 描述 |
| :----| :---| :----|
| requestId | String | 请求标识ID |

**状态码**

| 状态码 | 描述 |
| :-----| :----|
| 200 | OK |
| 400 | 请求参数错误 |

**请求示例（Java）**
```
```

### 3. 创建用户账号：createUser

**功能介绍**
用户

**接口方式**
POST

**请求地址**
https://cp.jdcloud-api.com/v1/partner/{partnerId}/user:createUser

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| partnerId | String | 是 | 无 | 京东云分配的合作伙伴ID |

**请求参数**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| createUserInfo | CreateUserInfo | 是 | 无 | 见CreateUserInfo结构说明 |

**CreateUserInfo**

| 名称 | 类型 | 是否必须 | 默认值 | 描述 |
| :----| :---| :--------| :-----| :----|
| userId | String | 是 | 无 | |
