# 云产品监控指标
## 云主机监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率| 当前非空闲CPU所占的百分比 | % |若该值越高则表明当前实例负载越高;Windows 实例可以在实例上用任务管理器来查看 CPU 的使用情况，按 CPU 排序，可以找出是什么程序占用服务器的CPU资源；Linux 实例可以通过 top 命令查看 CPU 的使用情况。登录实例后，在命令行执行命令 top，然后键盘输入shift+p，让 top 按 CPU 使用大小排序，可以查看目前占用 CPU 的进程。
内存使用率| 当前内存使用量占内存总量百分比 | % |若该值越高则表明当前实例内存使用越多，为当前已用内存量/所购买实例的内存总量。 
磁盘读流量| 磁盘平均每秒读流量   |kbps|当前实例系统盘的每秒读取数据量。 
磁盘写流量| 磁盘平均每秒写流量   |kbps|当前实例系统盘的每秒写入数据量。    
网络进流量| 网卡平均每秒进流量   |bps|表示流入实例流量平均速率，监控的是实例网卡的流量，包括内网及公网。若您需要单独看公网进出流量，可查看您当前实例绑定公网IP的监控信息。 
网络出流量| 网卡平均每秒出流量   |bps|表示流出实例流量平均速率，监控的是实例网卡的流量，包括内网及公网。若您需要单独看公网进出流量，可查看您当前实例绑定公网IP的监控信息。 

## 云硬盘监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
磁盘读取带宽 | 单块云硬盘的读吞吐量 |bps |吞吐量是指单位时间内可以成功传输的数据数量
磁盘写入带宽 | 单块云硬盘的写吞吐量 |bps|吞吐量是指单位时间内可以成功传输的数据数量
磁盘读取IOPS| 每秒执行的随机读I/O操作的平均次数 |个/秒|IOPS是Input/Output Operations per Second，即每秒能处理的I/O个数，用于表示块存储处理读写（输出/输入）的能力
磁盘写入IOPS| 每秒执行的随机写I/O操作的平均次数 |个/秒|IOPS是Input/Output Operations per Second，即每秒能处理的I/O个数，用于表示块存储处理读写（输出/输入）的能力

## 公网IP监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
公网入包量 | 公网IP平均每秒流入数据包数量 |byte |每秒由公网经该公网IP流入用户云资源数据包数量
公网出包量 | 公网IP平均每秒流出数据包数量 |byte |每秒由用户云资源经该公网IP发往公网数据包数量
公网入速率 | 公网IP平均每秒入流量 |个/秒 |每秒由公网经该公网IP流入用户云资源数据流平均速率
公网出速率 | 公网IP平均每秒出流量 |个/秒 |每秒由用户云资源经该公网IP发往公网数据流平均速率

## CDN监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
带宽峰值| 5分钟内所产生流量的平均带宽 |Mbits/s|-
返回码4xx占比| 用户请求中4xx状态码次数站所有请求次数的比例 |%|-
返回码5xx占比| 用户请求中5xx状态码次数站所有请求次数的比例 |%|-
命中率| 用户请求中边缘节点命中站所有请求次数的比例 |%|-
公网网络出流量| CDN服务所有边缘节点在单位时间内的总流量 |Mbytes|-
每秒请求数| CDN服务每秒钟内所有边缘节点被请求的总数量 |Count|-
源站可用性| CDN回源站请求成功数站回源请求总数量的比例 |Count|-
源站延时| CDN回源站请求时，从请求到源站响应直接的时间差值 |Count|-

## MySQL/Percona/MariaDB 监控指标
监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率| 实例的 CPU 使用率 |%|	-
内存使用率| 实例的内存使用率	|%|	-
硬盘空间总使用量| 实例的磁盘空间使用量，包括磁盘空间总体使用量、数据空间使用量、日志空间使用量、临时文件空间使用量和系统文件空间使用量。 |MB|-
网络接收流量| 网络接收流量 |bps|-
网络发送流量| 网络发送流量 |bps|-
实例每秒入流量|实例每秒输入流量|bps|-
实例每秒出流量|实例每秒输出流量|bps|-
每秒SQL语句执行次数	| 实例每秒钟 SQL 语句执行次数 |次|-
每秒事务数	| 实例每秒钟事务处理数 |个|-
临时表数量	| 数据库执行 SQL 语句时在硬盘上自动创建的临时表的数量 |个|-
当前总连接数| 当前总连接数	|个|-
当前活跃连接数| 当前活跃连接数	|个|-
InnoDB每秒读取量	| InnoDB 每秒读取的数据量 |B|-
InnoDB每秒写入量| InnoDB 每秒读取的数据量	|B|-
InnoDB缓存池读命中率	| InnoDB缓存池读命中率 |%|-
InnoDB缓存池利用率	| InnoDB缓存池利用率 |%|-
InnoDB缓存池脏块率	| InnoDB缓存池脏块的百分比 |%|-
InnoDB每秒向缓冲池的读次数	| InnoDB 每秒向缓冲池的读次数 |次|-
InnoDB每秒向缓冲池的写次数	| InnoDB 每秒向缓冲池的写次数 |次|-
InnoDB日志每秒物理写次数| InnoDB 每秒向日志文件的物理写入次数	|次|-
InnoDB日志每秒完成的fsync写数量	| InnoDB 每秒向日志文件完成的fsync写数量 |个|-
COMDML | 数据库每秒 SQL 语句执行次数，包括 Insert、Delete、Insert_Select、Replace、Replace_Select、Select、Update |个|-

## SQLServer监控指标
监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率|运行程序占用的CPU资源	|%|	该值越高则表明当前实例负载越高
内存使用率| 当前内存使用量占内存总量百分比	|%|	该值越高则表明当前实例内存使用越多。
数据盘使用率|当前已使用的硬盘总量|%|	用于存储数据的硬盘的已使用空间
数据盘盘使用量|当前硬盘使用量占硬盘总量百分比   	|MByte|	若该值越高则表明当前实例硬盘使用越多。
数据盘写IOPS|每秒写入数据盘的IO次数	|次/秒|	每秒写入数据盘的IO次数
数据盘读IOPS|每秒读取数据盘的IO次数	|次/秒|	每秒读取数据盘的IO次数
网络入速率|数据库实例每秒的网络入流量|kbps|	数据库实例每秒的网络入流量
网络出速率|数据库实例每秒的网络入流量|kbps|	数据库实例每秒的网络出流量
当前总连接数|活动的SQL连接总数	|个|	可以用于确定系统的最大并发用户数
平均每秒事务数|每秒的提交事务数目	|个|	每秒的提交事务数目
平均每秒SQL语句执行次数|每秒SQL语句执行次数  |次|	每秒SQL语句执行次数
缓存命中率|指在缓冲区高速缓存中找到而不需要从磁盘中读取的页的百分比	|%|	90%表示 90% 以上的数据请求可以从数据缓冲区中获得所需数据。该指标的值最好为 90% 以上，通常可以通过增加 SQL Server 可用的内存数量来提高该指标的值。
每秒检查点写入Page数 | 在SQL Server发生检查点或其他需要刷新脏页操作时，每秒刷新到磁盘的Page的数目 |个|	在SQL Server发生检查点或其他需要刷新脏页操作时，每秒刷新到磁盘的Page的数目
每秒登录次数| 平均每秒启动的登录次数	|次|	平均每秒启动的登录次数
平均每秒全表扫描次数|每秒全表扫描的数量	|次|	全表扫描可以是基本表扫描或全索引扫描。由于全表扫描需要耗费大量时间，因此全表扫描的频率过高的话，会影响性能。
每秒SQL编译数|每秒的 SQL 编译数	|个|	每秒的 SQL 编译数，表示编译代码路径被进入的次数，包括 SQL Server中语句级重新编译导致的编译。 
每秒锁超时次数|每秒超时的锁请求数	|次|	每秒超时的锁请求数，包括对 NOWAIT 锁的请求。
每秒死锁次数|每秒导致死锁的锁请求数	|次|	每秒导致死锁的锁请求数。死锁对于应用程序的可伸缩性非常有害，并且会导致恶劣的用户体验。该计数器最好为0。
每秒锁等待次数|每秒要求调用者等待的锁请求数。	|次|	每秒要求调用者等待的锁请求数。
阻塞进程数|由于各个原因被阻塞的进程的当前总数|个|	由于各个原因被阻塞的进程的当前总数
磁盘队列长度|磁盘IO队列的长度|个| 1分钟

## DRDS监控指标
监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率|运行程序占用的CPU资源	|%|	该值越高则表明当前实例负载越高
平均每秒网络流入量|实例每秒的网络入流量	|byte|	实例每秒的网络入流量
平均每秒网络流出量|实例每秒的网络出流量	|byte|	实例每秒的网络出流量
当前连接数|活动的SQL连接总数	|个|	可以用于确定系统的最大并发用户数

## 负载均衡监控指标
**应用负载均衡**

监控指标 | 定义 | 单位 |说明
---|---|---|---
新建连接数|统计周期内，从客户端到负载均衡新增HTTP/HTTPS（仅限7层）请求数	|个|-
活跃连接数|从客户端到负载均衡所有ESTABLISHED状态的TCP连接数时刻值	|个|	
新增请求数|统计周期内，从客户端连接到负载均衡新建连接数	|个|	
服务端错误|统计周期内，由服务端问题造成的请求失败数	|个|	
客户端错误|统计周期内，由客户端问题造成的请求失败数	|个|	

**网络负载均衡**
监控指标 | 定义 | 单位 |说明
---|---|---|---
新建连接数	|个|	1分钟
活跃连接数	|个|	1分钟
新增请求数	|个|	1分钟
流入流量速率|bps|	1分钟
流出流量速率|byte|	1分钟
流入字节数|Bytes|	1分钟


## 缓存Redis监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
内存使用量 |MB|	1分钟
内存使用率	|%|	1分钟
内网进流量	|bps|	1分钟
内网出流量	|bps|	1分钟
QPS	|次|	1分钟
命中率	|%|	1分钟
实例key数量|个|	1分钟

## MongoDB监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率	|%|	1分钟
内存使用率	|%|	1分钟
磁盘使用率	|%|	1分钟
IOPS使用率	|%|	1分钟
connections|个|1分钟 
network_bytesIn|byte|1分钟 
network_bytesOut|byte|1分钟 
network_numRequests|byte|1分钟 
op_command|个|	1分钟
op_delete|个| 1分钟
op_getmore|个| 1分钟
op_insert|个| 1分钟
op_query|个| 1分钟
op_update|个| 1分钟
cursor_timeoute|个| 1分钟
cursor_totalOpen|个| 1分钟
globalLock_cp_total|个| 1分钟
globalLock_cp_readers|个| 1分钟
globalLock_cp_writers|个| 1分钟
wt_bytes_read_into_cache|byte|1分钟
wt_bytes_written_from_cache|byte|1分钟
wt_max_bytes_config|byte|1分钟



## 原生容器监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率	|%|	1分钟
内存使用率	|%|	1分钟
磁盘读吞吐量	|kbps|	1分钟
磁盘写吞吐量	|kbps|	1分钟
网络入速率	|bps|	1分钟
网络出速率	|bps|	1分钟

## 对象存储监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
公网流入流量	|byte|	1分钟
公网流出流量	|byte|	1分钟
Get总请求数	|次|	1分钟
Put总请求数	|次|	1分钟
总请求数	|次|	1分钟
CDN流入流量	|byte|	1分钟
CDN流出流量	|byte|	1分钟

## 弹性伸缩监控
**伸缩组**

监控指标 | 定义 | 单位 |说明
---|---|---|---
最大实例数	|个|	1分钟
最小实例数	|个|	1分钟
服务实例数	|个|	1分钟
总实例数	 |个|	1分钟
加入实例数 |个|	1分钟
移出实例数	|个|	1分钟

**云主机实例**

监控指标 | 定义 | 单位 |说明
---|---|---|---
CPU使用率	|%|	1分钟
内存使用率	|%|	1分钟
网络入速率	|%|	1分钟
网络出速率	|%|	1分钟

## JMR监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
非堆内存使用量	|mb|	1分钟
堆内存已使用情	|mb|	1分钟
HDFS已使用量	|Byte|	1分钟
NameNode块总数	|个|	1分钟
NameNode管理的文件总数	|个|	1分钟
datanode节点存活数	|个|	1分钟
rpc调用平均时间	|毫秒|	1分钟
rpc操作平均时间	|毫秒|	1分钟
当前rpc打开数	|个|	1分钟
RPC当前调用队列长度	|个|	1分钟

## JCQ监控指标
**Topic**

监控指标 | 定义 | 单位 |说明
---|---|---|---
生产的TPS	|条/秒|	1分钟
已发布消息的数量	|个|	1分钟
已发布消息的请求量	|次|	1分钟
已发布消息的大小	|byte|	1分钟

**ConsumerGroup**

监控指标 | 定义 | 单位 |说明
---|---|---|---
消费的TPS	|条/秒|	1分钟
堆积消息数量	|个|	1分钟
接收消息请求量 |个|	1分钟
成功接收消息数量|个|	1分钟
接收的消息总量	|个|	1分钟
成功接收消息数量|个|	1分钟
接收消息的大小	|byte|	1分钟

## BDS监控指标

监控指标 | 定义 | 单位 |说明
---|---|---|---
每秒检查点写入Page数|	每秒检查点写入Page数 |个|-
每秒登录次数|	每秒登录次数 |次|-
每秒全表扫描次数| 平均每秒全表扫描次数	|次|-
SQL执行次数| 每秒 SQL 执行次数	|次|-
SQL编译次数| 每秒 SQL 编译次数	|次|-
锁超时次数| 实例每秒锁超时次数	|次|-
死锁次数|	实例每秒死锁次数 |次|-
锁等待次数| 实例每秒锁锁等待次数	|次|-
每秒事务数| 实例每秒钟事务处理数	|个|-
缓存命中率|	缓存命中率 |%|-
当前总连接数| 当前实例的总连接数	|个|-
网络入速率| 网络入速率 |bps|-
网络出速率| 网络出速率 |bps|-
硬盘读IO|	磁盘每秒 IO 读次数 |kbps|-
硬盘写IO|	磁盘每秒 IO 写次数 |kbps|-
硬盘使用量| 实例的磁盘使用量	|Gbyte|-
硬盘使用率| 实例的磁盘使用率 |%|-
磁盘队列长度|	磁盘IO队列的长度 |个|-
CPU 使用率|	实例的 CPU 使用率|%|-
阻塞进程数| 被阻塞的进程数	|个|-

