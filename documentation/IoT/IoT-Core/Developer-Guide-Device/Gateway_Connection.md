# 网关功能

网关负责代理子设备的认证、与云端的数据通信、管理子设备的信息和状态。网关与子设备之间的通信由厂商处理。
网关功能通过iot_config.h中的DEVICE_GATEWAY宏来控制。
编译生成的执行文件在 build/x86_64/bin/gateway_example

## 设备拓扑关系

- 直连设备：可直接连接云端
- 网关设备：拥有管理子设备，代理子设备连接云端的能力
- 子设备：不可直接连接云端需要通过代理连接云端的设备


## 子设备发送和接收
- 子设备的上下线由网关通知云端
- 子设备没有心跳，网关有心跳
- 网关需订阅子设备的topic，同步响应
- 网关可批量发送和接收子设备的数据

## 子设备激活：
子设备需要在后台配置托普关系，子设备可多次获取DS/ID，子设备需先解除和网关的依赖关系，才可关联其他网关。解除依赖后，原网关清楚对子设备的控制能力。

