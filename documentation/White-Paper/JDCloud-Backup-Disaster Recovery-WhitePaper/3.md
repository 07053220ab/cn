# 3 数据备份解决方案

## 3.1 适用场景
　　我国信息技术发展迅猛，IT信息系统的应用领域极为广泛。但从各行业和部门信息系统建设和维护状况中，可发现仍然存在下面的诸多问题需要解决：
  - 在互联网、游戏、传媒等行业，要不断根据新需求对系统进行快速迭代，会发生更新导致数据污染、数据损坏等异常。
  - 由于产业发展迅猛，导致技术人才缺口增大，出现系统运维人员技术能力参差不齐的情况，易出现系统运维操作给系统数据带来负面影响的情况。
  - 存储介质存在固有的故障率，在系统集群规模较大的情况下，发生存储硬件故障的概率较大，给系统中存储的数据带来丢失或不一致的风险。

　　京东云非常重视对数据的可靠性和一致性进行保护，为提升客数据的安全性，京东云提供的数据备份解决方案除能够较好地解决上述的几个主要问题，并能够适用于以下一些主要场景：
  - 数据为核心资产之一。对某些客户，数据是核心资产，若失去数据则可能导致客户失去在市场中的竞争优势或失去业务运行的基础。京东云能够提供成熟的数据备份技术，并提供安全可靠的数据备份环境，帮助客户保护数据，维护客户核心利益。
  - 标准、规范要求。数据备份已成为国家和行业针对重要业务系统提出的标准和规范的重要组成部分。京东云能够帮助客户实现满足标准和规范要求的IT支撑系统，使客户的业务系统满足监管机构的技术要求。
  - 数据影响业务发展。在政府、组织、企业中，数据对其未来的发展起到越来越重要的作用。京东云能够帮助政府、组织、企业等重要客户实现可靠的数据备份系统，支撑系统快速迭代发展，保障数据的可靠性和一致性。
  - 旧系统升级改造。由于技术发展历史原因，某些较老的信息系统的数据可能还存储在没有有效保障的环境，客户不希望投入过多经费对系统进行升级。京东云能够为客户提供高性价比的数据备份解决方案，利用京东云丰富的IaaS资源，帮助客户快速而又低成本地实现原有系统的改造，保障数据的安全。
  
##   3.2 技术架构
　　依托于京东云提供的丰富和先进的IT资源，基于京东云T3+级的数据中心建设能力，京东云数据备份技术架构如下图所示。

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P7.PNG)

　　京东云通过完善的数据中心建设，为客户的数据备份提供可靠的基础设施保障。在京东云数据中心内的服务器、存储设备和网络设备等硬件资源都有业界技术领先的运维人员负责维护，确保服务器集群和基础网络的稳定运行。为支持客户数据备份业务，京东云提供公有云、私有云、专有云、混合云等多种云平台，按照客户的个性化需求设计最合理的数据备份方案。在京东云的云平台上，支持非常丰富的云平台资源，用于承载客户的业务系统和数据备份系统，提供具有高性价比的IT资源。通过专业的京东云JD Cloud Mesh平台，提供数据备份平台工具，帮助客户的业务系统快速实现数据复制、迁移、加密传输等多种数据备份所需的功能。

## 3.3 技术方案
　　京东云为客户提供网络架构，数据备份与恢复和主要指标三种技术方案。

### 3.3.1 网络架构

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P8.PNG)

- 线上业务数据备份到云硬盘或硬盘
　　在京东云或客户自有IDC内，支持将客户的线上业务数据通过京东云VPC或客户内网备份到京东云云硬盘或客户硬盘中。京东云VPC支持IP地址网段划分，并通过支持安全组和自定义路由策略，实现安全隔离的客户专有网络。利用京东云提供的VPC构建安全、稳定、易扩展的局域网络，满足客户进行快速数据备份的需求。并利用云硬盘多副本机制，确保客户数据不会丢失。
- 线上业务数据备份到OSS
　　OSS是京东云自主研发的大规模分布式对象存储服务，面向企业和个人客户提供高可用、低成本、高安全性的云端存储服务。OSS支持通过京东云VPC内网访问，网络数据流量免费，可实现备份数据高速传输。同时，OSS提供标准存储、低频存储、归档存储、低冗余存储等4种存储方式，利用低频存储或归档存储等两种存储方式实现数据备份能够大幅降低客户的数据存储成本。
- 线上业务数据备份到远程数据备份环境
　　在远程数据备份的场景下，为了确保数据传输安全，京东云支持客户通过VPN或网络专线将待备份数据传输到数据备份环境中。基于客户的业务需求，京东云支持跨可用区数据备份、跨地域数据备份、客户自有IDC数据备份和第三方云平台数据备份等多种远程数据备份方式。
　　可用区（Availability Zone或AZ）是电力及网络之间互相独立的物理区域，京东云在同一地域内可支持多个内网互通的可用区，实现较好的故障隔离。利用跨可用区进行数据备份能够使系统抵抗数据中心范围（数十千米）的灾难，并且具有非常高的网络传输带宽。
　　京东云的互联网机房分布在全球多个位置，这些位置称为地域（Region）。每个地域都是一个独立的地理区域，在供电、供水、网络等基础设施层面每个地域都完全独立，不同地域之间相隔数百至数千千米。采用跨地域进行云数据备份能够使客户的业务系统抵抗地震、海啸等巨大规模自然灾害导致的区域性系统故障。
京东云支持客户将数据安全地备份到客户自建的数据中心，也支持将数据备份到第三方云平台，帮助客户根据自身业务特点自由选择相应备份方式。

### 3.3.2 产品数据备份与恢复
　　京东云的数据库及存储产品在JD Cloud Mesh的数据备份工具的帮助下支持将客户线上业务数据通过网络专线或VPN进行备份。当系统遇到自然灾害或人为灾难导致大范围故障时，京东云提供及时、专业的技术支持服务，帮助客户快速恢复关键数据，降低系统损失。
  
####   3.3.2.1	数据库
　　京东云云硬盘本身具有主从高可用架构，能够保障很高的数据可用性和可靠性，同时支持备份数据同步至京东云存储，支持 3 副本存储，确保京东云RDS数据安全。京东云数据库备份工具和服务支持MySQL、SQL Server等关系型数据库，支持MongoDB等非关系型数据库，也支持TiDB等NewSQL数据库。京东云通过数据库备份服务代理，将待备份的数据通过网络专线或VPN备份到京东云的RDS、客户自建数据库和第三方云数据库。

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P9.PNG)

　　京东云提供全量备份、增量备份、实时复制、数据库迁移等数据库备份服务，满足客户不同的数据安全性需求。当灾难发生并导致业务系统数据损坏时，备份环境中保存的数据确保客户关键业务数据不丢失，同时京东云将提供及时的技术支持服务，帮助客户快速恢复业务生产数据。

#### 3.3.2.2	块存储和文件

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P10.png)

　　京东云云硬盘和云文件服务产品支持多副本机制，能够保障极高的数据可靠性。同时京东云支持通过备份服务代理将待备份的数据通过网络专线或VPN备份到数据备份资源平台。数据备份资源平台支持京东云公有云、私有云、专有云、混合云，也支持客户自有IDC或第三方云平台，从而满足不同客户的业务需求。
　　京东云提供硬盘快照、数据多副本、数据实时复制、文件迁移等备份方式。当灾难发生并导致业务系统数据损坏时，备份环境中保存的文件确保客户关键数据不丢失，同时京东云将及时提供服务支持客户快速恢复关键数据。

#### 3.3.2.3	对象存储OSS

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P11.PNG)

　　京东云对象存储产品OSS本身支持多副本机制，能够保障极高的数据可靠性。同时，京东云支持将客户存储在对象存储、文件存储、云硬盘或硬盘中的数据，通过备份服务代理，将文件备份到京东云的公有云、私有云、专有云、混合云的OSS中，也支持将文件备份到客户自有IDC或第三方云平台的对象存储中。
　　京东云提供OSS多副本机制、数据全量迁移、数据备份等备份方式。当灾难发生并导致业务系统数据损坏时，备份环境中保存的文件确保客户关键数据不丢失，同时京东云将及时提供服务支持客户快速恢复关键业务数据。

### 3.3.3 主要指标
　　京东云数据库与存储产品进行数据备份的主要指标如下表所示：

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87%E8%A1%A81.png)

　　利用多种技术手段，京东云支持如下图所示的数据恢复能力：

![](https://github.com/jdcloudcom/cn/blob/baishi/image/whitepaper/%E7%81%BE%E5%A4%87P12.png)
